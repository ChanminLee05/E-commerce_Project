{"ast":null,"code":"import React,{useEffect,useState}from'react';import{toast}from\"react-toastify\";import MainPageSideBar from\"./MainPageSideBar\";import User from\"./User\";import\"./UserControlPage.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserControlPage=()=>{const[users,setUsers]=useState([]);useEffect(()=>{fetchUsers();},[]);const fetchUsers=()=>{fetch(\"http://localhost:8080/nexusHub/admin/user\",{method:'GET',headers:{'Content-Type':'application/json'}}).then(response=>{if(response.ok){return response.json();}throw new Error('Network response was not ok.');}).then(userData=>{console.log(\"Fetched users:\",userData);setUsers(userData);}).catch(error=>{console.error('Error:',error);toast.error('Failed to fetch users.');});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MainPageSideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-user-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-control admin-form\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover user-control-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-2\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-3\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-2\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"Update\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"th-col col-1\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map((user,index)=>/*#__PURE__*/_jsx(User,{user_id:user.user_id,username:user.username,password:user.password,email:user.email,phone_number:user.phone_number,roles:user.roles.join(', '),created:user.created},index))})]})})})]});};export default UserControlPage;","map":{"version":3,"names":["React","useEffect","useState","toast","MainPageSideBar","User","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserControlPage","users","setUsers","fetchUsers","fetch","method","headers","then","response","ok","json","Error","userData","console","log","catch","error","children","className","scope","map","user","index","user_id","username","password","email","phone_number","roles","join","created"],"sources":["C:/Users/Chanmin/chatbot_project/chatbot/frontend/src/Components/AdminPage/UserControlPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {toast} from \"react-toastify\";\r\nimport MainPageSideBar from \"./MainPageSideBar\";\r\nimport User from \"./User\";\r\nimport \"./UserControlPage.css\";\r\n\r\nconst UserControlPage = () => {\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = () => {\r\n        fetch(\"http://localhost:8080/nexusHub/admin/user\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(response => {\r\n                if (response.ok) {\r\n                    return response.json();\r\n                }\r\n                throw new Error('Network response was not ok.');\r\n            })\r\n            .then(userData => {\r\n            console.log(\"Fetched users:\", userData);\r\n\r\n\r\n            setUsers(userData);\r\n        })\r\n            .catch(error => {\r\n                console.error('Error:', error);\r\n                toast.error('Failed to fetch users.');\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <MainPageSideBar/>\r\n            <div className=\"admin-user-page\">\r\n                <div className=\"form-control admin-form\">\r\n                    <table className=\"table table-striped table-hover user-control-table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th scope=\"col\" className=\"th-col col-1\">#</th>\r\n                            <th scope=\"col\" className=\"th-col col-2\">User Name</th>\r\n                            <th scope=\"col\" className=\"th-col col-1\">Password</th>\r\n                            <th scope=\"col\" className=\"th-col col-1\">Email</th>\r\n                            <th scope=\"col\" className=\"th-col col-3\">Phone Number</th>\r\n                            <th scope=\"col\" className=\"th-col col-1\">Role</th>\r\n                            <th scope=\"col\" className=\"th-col col-2\">Created</th>\r\n                            <th scope=\"col\" className=\"th-col col-1\">Update</th>\r\n                            <th scope=\"col\" className=\"th-col col-1\">Action</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {users.map((user, index) => (\r\n                            <User\r\n                                key={index}\r\n                                user_id={user.user_id}\r\n                                username={user.username}\r\n                                password={user.password}\r\n                                email={user.email}\r\n                                phone_number={user.phone_number}\r\n                                roles={user.roles.join(', ')}\r\n                                created={user.created}\r\n                            />\r\n                        ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserControlPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,KAAK,KAAO,gBAAgB,CACpC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACZc,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,UAAU,CAAGA,CAAA,GAAM,CACrBC,KAAK,CAAC,2CAA2C,CAAE,CAC/CC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACGC,IAAI,CAACC,QAAQ,EAAI,CACd,GAAIA,QAAQ,CAACC,EAAE,CAAE,CACb,MAAO,CAAAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC1B,CACA,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CACnD,CAAC,CAAC,CACDJ,IAAI,CAACK,QAAQ,EAAI,CAClBC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,QAAQ,CAAC,CAGvCV,QAAQ,CAACU,QAAQ,CAAC,CACtB,CAAC,CAAC,CACGG,KAAK,CAACC,KAAK,EAAI,CACZH,OAAO,CAACG,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAC9BzB,KAAK,CAACyB,KAAK,CAAC,wBAAwB,CAAC,CACzC,CAAC,CAAC,CACV,CAAC,CAED,mBACInB,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACItB,IAAA,CAACH,eAAe,GAAC,CAAC,cAClBG,IAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC5BtB,IAAA,QAAKuB,SAAS,CAAC,yBAAyB,CAAAD,QAAA,cACpCpB,KAAA,UAAOqB,SAAS,CAAC,oDAAoD,CAAAD,QAAA,eACjEtB,IAAA,UAAAsB,QAAA,cACApB,KAAA,OAAAoB,QAAA,eACItB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,GAAC,CAAI,CAAC,cAC/CtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,WAAS,CAAI,CAAC,cACvDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,UAAQ,CAAI,CAAC,cACtDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,OAAK,CAAI,CAAC,cACnDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,cAAY,CAAI,CAAC,cAC1DtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cAClDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,cACrDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,QAAM,CAAI,CAAC,cACpDtB,IAAA,OAAIwB,KAAK,CAAC,KAAK,CAACD,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,QAAM,CAAI,CAAC,EACpD,CAAC,CACE,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CACChB,KAAK,CAACmB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACnB3B,IAAA,CAACF,IAAI,EAED8B,OAAO,CAAEF,IAAI,CAACE,OAAQ,CACtBC,QAAQ,CAAEH,IAAI,CAACG,QAAS,CACxBC,QAAQ,CAAEJ,IAAI,CAACI,QAAS,CACxBC,KAAK,CAAEL,IAAI,CAACK,KAAM,CAClBC,YAAY,CAAEN,IAAI,CAACM,YAAa,CAChCC,KAAK,CAAEP,IAAI,CAACO,KAAK,CAACC,IAAI,CAAC,IAAI,CAAE,CAC7BC,OAAO,CAAET,IAAI,CAACS,OAAQ,EAPjBR,KAQR,CACJ,CAAC,CACK,CAAC,EACL,CAAC,CACP,CAAC,CACL,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAtB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}