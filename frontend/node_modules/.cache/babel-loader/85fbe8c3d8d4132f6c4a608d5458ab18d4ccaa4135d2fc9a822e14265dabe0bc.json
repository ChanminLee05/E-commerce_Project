{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import\"./AdminMainPage.css\";import MainPageSideBar from\"./MainPageSideBar\";import Chart from'chart.js/auto';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminMainPage(){const[totalProducts,setTotalProducts]=useState(0);const[totalUsers,setTotalUsers]=useState(0);const[isLoading,setIsLoading]=useState(true);const chartRef=useRef(null);const randomWeeklySales=Math.floor(Math.random()*(30000-15000+1))+15000;const formattedSalesNumber=randomWeeklySales.toLocaleString();const monthlySalesData=Array.from({length:12},()=>(Math.floor(Math.random()*(30000-15000+1))+15000)*30);useEffect(()=>{const fetchTotalData=async()=>{try{const totalProductNumber=await fetch('http://localhost:8080/nexusHub/product/totalProducts');if(totalProductNumber.ok){const productsData=await totalProductNumber.json();setTotalProducts(productsData);}else{console.error('Failed to fetch total products');}const totalUserNumber=await fetch('http://localhost:8080/nexusHub/user/totalUsers');if(totalUserNumber.ok){const usersData=await totalUserNumber.json();setTotalUsers(usersData);}else{console.error('Failed to fetch total users');}setIsLoading(false);}catch(error){console.error('Error fetching total data:',error);}};fetchTotalData();},[]);useEffect(()=>{if(!isLoading){// Create chart graph\nconst ctx=chartRef.current.getContext('2d');new Chart(ctx,{type:'bar',data:{labels:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],datasets:[{label:'Monthly Sales Report',data:monthlySalesData,backgroundColor:['rgb(250,46,88)','rgb(34,155,236)'],borderColor:['rgb(250,46,88)','rgb(34,155,236)'],borderWidth:1}]},options:{scales:{y:{beginAtZero:true}},plugins:{legend:{display:false},title:{display:true,text:'Monthly Sales Report',font:{size:30}}}}});}},[isLoading,monthlySalesData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-main-page\",children:[/*#__PURE__*/_jsx(MainPageSideBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-top-section\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md-center top-title\",children:\"NEXUSHUB\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"ADMIN DASHBOARD\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-mid-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-section product-user-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-section-left left\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"product-user-title\",children:\"Total Product\"}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"h2\",{className:\"product-user-text\",children:totalProducts})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-section-right right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-layers-fill product-user-icon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-section product-user-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-section-left left\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"product-user-title\",children:\"Total User\"}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"h2\",{className:\"product-user-text\",children:totalUsers})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-section-right right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-fill-gear product-user-icon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sales-section product-user-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sales-section-left left\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"product-user-title\",children:\"Weekly Sales\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"product-user-text\",children:[\"$\",formattedSalesNumber]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-section-right right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bar-chart-line-fill product-user-icon\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-bottom-section\",children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef,className:\"chart\"})})]})]});}export default AdminMainPage;","map":{"version":3,"names":["React","useEffect","useRef","useState","MainPageSideBar","Chart","jsx","_jsx","jsxs","_jsxs","AdminMainPage","totalProducts","setTotalProducts","totalUsers","setTotalUsers","isLoading","setIsLoading","chartRef","randomWeeklySales","Math","floor","random","formattedSalesNumber","toLocaleString","monthlySalesData","Array","from","length","fetchTotalData","totalProductNumber","fetch","ok","productsData","json","console","error","totalUserNumber","usersData","ctx","current","getContext","type","data","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","plugins","legend","display","title","text","font","size","className","children","ref"],"sources":["C:/Users/Chanmin/chatbot_project/chatbot/frontend/src/Components/AdminPage/AdminMainPage.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport \"./AdminMainPage.css\";\r\nimport MainPageSideBar from \"./MainPageSideBar\";\r\nimport Chart from 'chart.js/auto';\r\n\r\nfunction AdminMainPage() {\r\n    const [totalProducts, setTotalProducts] = useState(0);\r\n    const [totalUsers, setTotalUsers] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const chartRef = useRef(null);\r\n\r\n    const randomWeeklySales = Math.floor(Math.random() * (30000 - 15000 + 1)) + 15000;\r\n    const formattedSalesNumber = randomWeeklySales.toLocaleString();\r\n\r\n    const monthlySalesData = Array.from({ length: 12 }, () => (Math.floor(Math.random() * (30000 - 15000 + 1)) + 15000) * 30);\r\n\r\n    useEffect(() => {\r\n        const fetchTotalData = async () => {\r\n            try {\r\n                const totalProductNumber = await fetch('http://localhost:8080/nexusHub/product/totalProducts');\r\n                if (totalProductNumber.ok) {\r\n                    const productsData = await totalProductNumber.json();\r\n                    setTotalProducts(productsData);\r\n                } else {\r\n                    console.error('Failed to fetch total products');\r\n                }\r\n\r\n                const totalUserNumber = await fetch('http://localhost:8080/nexusHub/user/totalUsers');\r\n                if (totalUserNumber.ok) {\r\n                    const usersData = await totalUserNumber.json();\r\n                    setTotalUsers(usersData);\r\n                } else {\r\n                    console.error('Failed to fetch total users');\r\n                }\r\n\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                console.error('Error fetching total data:', error);\r\n            }\r\n        };\r\n\r\n        fetchTotalData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!isLoading) {\r\n            // Create chart graph\r\n            const ctx = chartRef.current.getContext('2d');\r\n            new Chart(ctx, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n                    datasets: [{\r\n                        label: 'Monthly Sales Report',\r\n                        data: monthlySalesData,\r\n                        backgroundColor: [\r\n                            'rgb(250,46,88)',\r\n                            'rgb(34,155,236)',\r\n                        ],\r\n                        borderColor: [\r\n                            'rgb(250,46,88)',\r\n                            'rgb(34,155,236)',\r\n                        ],\r\n                        borderWidth: 1\r\n                    }]\r\n                },\r\n                options: {\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true\r\n                        }\r\n                    },\r\n                    plugins: {\r\n                        legend: {\r\n                            display: false\r\n                        },\r\n                        title: {\r\n                            display: true,\r\n                            text: 'Monthly Sales Report',\r\n                            font: {\r\n                                size: 30\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }, [isLoading, monthlySalesData]);\r\n\r\n    return (\r\n        <div className=\"admin-main-page\">\r\n            <MainPageSideBar/>\r\n            <div className=\"admin-dashboard\">\r\n                <div className=\"admin-top-section\">\r\n                    <h4 className=\"text-md-center top-title\">NEXUSHUB</h4>\r\n                    <h1>ADMIN DASHBOARD</h1>\r\n                </div>\r\n                <div className=\"admin-mid-section\">\r\n                    <div className=\"product-section product-user-section\">\r\n                        <div className=\"product-section-left left\">\r\n                            <h4 className=\"product-user-title\">Total Product</h4>\r\n                            {isLoading ? <p>Loading...</p> : <h2 className=\"product-user-text\">{totalProducts}</h2>}\r\n                        </div>\r\n                        <div className=\"product-section-right right\">\r\n                            <i className=\"bi bi-layers-fill product-user-icon\"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"user-section product-user-section\">\r\n                        <div className=\"user-section-left left\">\r\n                            <h4 className=\"product-user-title\">Total User</h4>\r\n                            {isLoading ? <p>Loading...</p> : <h2 className=\"product-user-text\">{totalUsers}</h2>}\r\n                        </div>\r\n                        <div className=\"user-section-right right\">\r\n                            <i className=\"bi bi-person-fill-gear product-user-icon\"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"sales-section product-user-section\">\r\n                        <div className=\"sales-section-left left\">\r\n                            <h4 className=\"product-user-title\">Weekly Sales</h4>\r\n                            <h2 className=\"product-user-text\">${formattedSalesNumber}</h2>\r\n                        </div>\r\n                        <div className=\"user-section-right right\">\r\n                            <i className=\"bi bi-bar-chart-line-fill product-user-icon\"></i>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"admin-bottom-section\">\r\n                    <canvas ref={chartRef} className=\"chart\"></canvas>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminMainPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAO,OAAO,CACxD,MAAO,qBAAqB,CAC5B,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,KAAK,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACrB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAAc,QAAQ,CAAGf,MAAM,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAgB,iBAAiB,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,EAAI,KAAK,CAAG,KAAK,CAAG,CAAC,CAAC,CAAC,CAAG,KAAK,CACjF,KAAM,CAAAC,oBAAoB,CAAGJ,iBAAiB,CAACK,cAAc,CAAC,CAAC,CAE/D,KAAM,CAAAC,gBAAgB,CAAGC,KAAK,CAACC,IAAI,CAAC,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAE,IAAM,CAACR,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,EAAI,KAAK,CAAG,KAAK,CAAG,CAAC,CAAC,CAAC,CAAG,KAAK,EAAI,EAAE,CAAC,CAEzHpB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA2B,cAAc,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACA,KAAM,CAAAC,kBAAkB,CAAG,KAAM,CAAAC,KAAK,CAAC,sDAAsD,CAAC,CAC9F,GAAID,kBAAkB,CAACE,EAAE,CAAE,CACvB,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAH,kBAAkB,CAACI,IAAI,CAAC,CAAC,CACpDrB,gBAAgB,CAACoB,YAAY,CAAC,CAClC,CAAC,IAAM,CACHE,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAC,CACnD,CAEA,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAN,KAAK,CAAC,gDAAgD,CAAC,CACrF,GAAIM,eAAe,CAACL,EAAE,CAAE,CACpB,KAAM,CAAAM,SAAS,CAAG,KAAM,CAAAD,eAAe,CAACH,IAAI,CAAC,CAAC,CAC9CnB,aAAa,CAACuB,SAAS,CAAC,CAC5B,CAAC,IAAM,CACHH,OAAO,CAACC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CAEAnB,YAAY,CAAC,KAAK,CAAC,CACvB,CAAE,MAAOmB,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACtD,CACJ,CAAC,CAEDP,cAAc,CAAC,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN3B,SAAS,CAAC,IAAM,CACZ,GAAI,CAACc,SAAS,CAAE,CACZ;AACA,KAAM,CAAAuB,GAAG,CAAGrB,QAAQ,CAACsB,OAAO,CAACC,UAAU,CAAC,IAAI,CAAC,CAC7C,GAAI,CAAAnC,KAAK,CAACiC,GAAG,CAAE,CACXG,IAAI,CAAE,KAAK,CACXC,IAAI,CAAE,CACFC,MAAM,CAAE,CAAC,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAE,KAAK,CAAC,CAC5FC,QAAQ,CAAE,CAAC,CACPC,KAAK,CAAE,sBAAsB,CAC7BH,IAAI,CAAElB,gBAAgB,CACtBsB,eAAe,CAAE,CACb,gBAAgB,CAChB,iBAAiB,CACpB,CACDC,WAAW,CAAE,CACT,gBAAgB,CAChB,iBAAiB,CACpB,CACDC,WAAW,CAAE,CACjB,CAAC,CACL,CAAC,CACDC,OAAO,CAAE,CACLC,MAAM,CAAE,CACJC,CAAC,CAAE,CACCC,WAAW,CAAE,IACjB,CACJ,CAAC,CACDC,OAAO,CAAE,CACLC,MAAM,CAAE,CACJC,OAAO,CAAE,KACb,CAAC,CACDC,KAAK,CAAE,CACHD,OAAO,CAAE,IAAI,CACbE,IAAI,CAAE,sBAAsB,CAC5BC,IAAI,CAAE,CACFC,IAAI,CAAE,EACV,CACJ,CAEJ,CACJ,CACJ,CAAC,CAAC,CACN,CACJ,CAAC,CAAE,CAAC5C,SAAS,CAAES,gBAAgB,CAAC,CAAC,CAEjC,mBACIf,KAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BtD,IAAA,CAACH,eAAe,GAAC,CAAC,cAClBK,KAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BpD,KAAA,QAAKmD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BtD,IAAA,OAAIqD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACtDtD,IAAA,OAAAsD,QAAA,CAAI,iBAAe,CAAI,CAAC,EACvB,CAAC,cACNpD,KAAA,QAAKmD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BpD,KAAA,QAAKmD,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACjDpD,KAAA,QAAKmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACtCtD,IAAA,OAAIqD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CACpD9C,SAAS,cAAGR,IAAA,MAAAsD,QAAA,CAAG,YAAU,CAAG,CAAC,cAAGtD,IAAA,OAAIqD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAElD,aAAa,CAAK,CAAC,EACtF,CAAC,cACNJ,IAAA,QAAKqD,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACxCtD,IAAA,MAAGqD,SAAS,CAAC,qCAAqC,CAAI,CAAC,CACtD,CAAC,EACL,CAAC,cACNnD,KAAA,QAAKmD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC9CpD,KAAA,QAAKmD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACnCtD,IAAA,OAAIqD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,CACjD9C,SAAS,cAAGR,IAAA,MAAAsD,QAAA,CAAG,YAAU,CAAG,CAAC,cAAGtD,IAAA,OAAIqD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEhD,UAAU,CAAK,CAAC,EACnF,CAAC,cACNN,IAAA,QAAKqD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACrCtD,IAAA,MAAGqD,SAAS,CAAC,0CAA0C,CAAI,CAAC,CAC3D,CAAC,EACL,CAAC,cACNnD,KAAA,QAAKmD,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eAC/CpD,KAAA,QAAKmD,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACpCtD,IAAA,OAAIqD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cACpDpD,KAAA,OAAImD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,GAAC,CAACvC,oBAAoB,EAAK,CAAC,EAC7D,CAAC,cACNf,IAAA,QAAKqD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACrCtD,IAAA,MAAGqD,SAAS,CAAC,6CAA6C,CAAI,CAAC,CAC9D,CAAC,EACL,CAAC,EACL,CAAC,cACNrD,IAAA,QAAKqD,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACjCtD,IAAA,WAAQuD,GAAG,CAAE7C,QAAS,CAAC2C,SAAS,CAAC,OAAO,CAAS,CAAC,CACjD,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAlD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}