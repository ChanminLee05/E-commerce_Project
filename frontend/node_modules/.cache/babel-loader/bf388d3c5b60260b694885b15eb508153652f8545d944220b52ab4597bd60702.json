{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./CartItem.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartItem=_ref=>{let{cartId,cartItemId,productName,brand,images,price,onDelete,onQuantityChange,photos}=_ref;const[quantity,setQuantity]=useState(1);const[totalPrice,setTotalPrice]=useState(price);const displayImages=photos&&photos.length>0?photos:images;const imagePath=displayImages.length>0?displayImages[0]:null;function handleQuantityChange(e){const selectedQuantity=parseInt(e.target.value);setQuantity(selectedQuantity);setTotalPrice(price*selectedQuantity);onQuantityChange(cartItemId,selectedQuantity);}async function deleteItemFromCart(){try{const deleteItem=window.confirm(\"Are you sure you want to delete the item from your cart?\");if(!deleteItem)return;const response=await fetch(\"http://localhost:8080/nexusHub/cart-item/delete?cartId=\".concat(cartId,\"&cartItemId=\").concat(cartItemId),{method:'DELETE',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error('Failed to delete item from cart');}console.log('Item deleted successfully');onDelete(cartItemId);}catch(error){console.error('Error deleting item:',error);}}return/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[displayImages&&/*#__PURE__*/_jsx(\"img\",{src:imagePath,className:\"cart-item-card-images\",alt:productName}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body cart-item-desc\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"cart-item-brand-txt\",children:brand}),/*#__PURE__*/_jsx(\"h5\",{className:\"cart-item-productName\",children:productName}),/*#__PURE__*/_jsxs(\"h4\",{className:\"cart-item-price-txt\",children:[\"$\",totalPrice.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"quantity-txt\",children:\"Qty:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select select-quantity\",value:quantity,onChange:handleQuantityChange,children:[1,2,3,4,5,6,7,8,9,10].map(value=>/*#__PURE__*/_jsx(\"option\",{value:value,children:value},value))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:deleteItemFromCart,children:\"Delete\"})]})]})});};export default CartItem;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","CartItem","_ref","cartId","cartItemId","productName","brand","images","price","onDelete","onQuantityChange","photos","quantity","setQuantity","totalPrice","setTotalPrice","displayImages","length","imagePath","handleQuantityChange","e","selectedQuantity","parseInt","target","value","deleteItemFromCart","deleteItem","window","confirm","response","fetch","concat","method","headers","ok","Error","console","log","error","className","children","src","alt","toFixed","onChange","map","onClick"],"sources":["C:/Users/Chanmin/chatbot_project/chatbot/frontend/src/Components/CartPage/CartItem.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './CartItem.css';\r\n\r\nconst CartItem = ({ cartId, cartItemId, productName, brand, images, price, onDelete, onQuantityChange, photos }) => {\r\n    const [quantity, setQuantity] = useState(1);\r\n    const [totalPrice, setTotalPrice] = useState(price);\r\n\r\n    const displayImages = photos && photos.length > 0 ? photos : images;\r\n    const imagePath = displayImages.length > 0 ? displayImages[0] : null;\r\n\r\n    function handleQuantityChange(e) {\r\n        const selectedQuantity = parseInt(e.target.value);\r\n        setQuantity(selectedQuantity);\r\n        setTotalPrice(price * selectedQuantity);\r\n        onQuantityChange(cartItemId, selectedQuantity);\r\n    }\r\n\r\n    async function deleteItemFromCart() {\r\n        try {\r\n            const deleteItem = window.confirm(\"Are you sure you want to delete the item from your cart?\");\r\n            if (!deleteItem) return;\r\n\r\n            const response = await fetch(`http://localhost:8080/nexusHub/cart-item/delete?cartId=${cartId}&cartItemId=${cartItemId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            });\r\n            if (!response.ok) {\r\n                throw new Error('Failed to delete item from cart');\r\n            }\r\n\r\n            console.log('Item deleted successfully');\r\n            onDelete(cartItemId);\r\n\r\n        } catch (error) {\r\n            console.error('Error deleting item:', error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"cart-item-container\">\r\n            <div className=\"cart-item\">\r\n                {displayImages && (\r\n                    <img\r\n                        src={imagePath}\r\n                        className=\"cart-item-card-images\"\r\n                        alt={productName}\r\n                    />\r\n                )}\r\n                <div className=\"card-body cart-item-desc\">\r\n                    <p className=\"cart-item-brand-txt\">{brand}</p>\r\n                    <h5 className=\"cart-item-productName\">{productName}</h5>\r\n                    <h4 className=\"cart-item-price-txt\">${totalPrice.toFixed(2)}</h4>\r\n                    <div className=\"quantity-container\">\r\n                        <span className=\"quantity-txt\">Qty:</span>\r\n                        <select className=\"form-select select-quantity\" value={quantity} onChange={handleQuantityChange}>\r\n                            {[1,2,3,4,5,6,7,8,9,10].map((value) => (\r\n                                <option key={value} value={value}>\r\n                                    {value}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"delete-btn\" onClick={deleteItemFromCart}>Delete</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}