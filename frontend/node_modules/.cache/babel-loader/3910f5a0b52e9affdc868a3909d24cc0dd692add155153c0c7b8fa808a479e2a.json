{"ast":null,"code":"import React,{useState}from'react';import{toast,ToastContainer}from\"react-toastify\";import{Link,useNavigate}from\"react-router-dom\";import\"./AdminLoginPage.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLoginPage=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[isLoggedIn,setIsLoggedIn]=useState(false);const navigate=useNavigate();function handleSignIn(e){e.preventDefault();const user={username,password};fetch(\"http://localhost:8080/nexusHub/admin/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(response=>{if(response.ok){console.log('Login Successful');response.json().then(data=>{localStorage.setItem('token',data.token);setIsLoggedIn(true);navigate('/admin/main');toast.success('Login Successful',{position:\"top-center\",draggable:true,hideProgressBar:true});});// Schedule token removal after 1 hour\nsetTimeout(()=>{localStorage.removeItem('token');setIsLoggedIn(false);navigate('/admin/login');toast.warn('Session Expired. Please login again.',{position:\"top-center\",draggable:true,hideProgressBar:true});},60000*60);setPassword('');}else{console.error('Login Failed');toast.warn('Username or Password is incorrect',{position:\"top-center\",draggable:true,hideProgressBar:true});}}).catch(error=>{console.error('Error:',error);});}function handleLogOut(){localStorage.removeItem('token');setIsLoggedIn(false);toast.success(\"Logout Successful\",{position:\"top-center\",draggable:true,hideProgressBar:true});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"admin-login-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleDropdownFormUsername\",className:\"form-label label-txt\",children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control label-input\",id:\"exampleDropdownFormUsername\",placeholder:\"User Name\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleDropdownFormPassword2\",className:\"form-label label-txt\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control label-input\",id:\"exampleDropdownFormPassword2\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-check\",children:/*#__PURE__*/_jsx(Link,{to:\"/find\",className:\"find-link\",children:/*#__PURE__*/_jsx(\"p\",{className:\"find-txt\",children:\"Forgot your username or password?\"})})})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleSignIn,children:\"Sign in\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"register-link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Sign Up\"})})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default AdminLoginPage;","map":{"version":3,"names":["React","useState","toast","ToastContainer","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminLoginPage","username","setUsername","password","setPassword","isLoggedIn","setIsLoggedIn","navigate","handleSignIn","e","preventDefault","user","fetch","method","headers","body","JSON","stringify","then","response","ok","console","log","json","data","localStorage","setItem","token","success","position","draggable","hideProgressBar","setTimeout","removeItem","warn","error","catch","handleLogOut","className","children","htmlFor","type","id","placeholder","value","onChange","target","to","onClick"],"sources":["C:/Users/Chanmin/chatbot_project/chatbot/frontend/src/Components/AdminPage/AdminLoginPage.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {toast, ToastContainer} from \"react-toastify\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport \"./AdminLoginPage.css\";\r\n\r\nconst AdminLoginPage = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    function handleSignIn(e) {\r\n        e.preventDefault();\r\n        const user = {username, password}\r\n        fetch(\"http://localhost:8080/nexusHub/admin/login\", {\r\n            method: \"POST\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify(user)\r\n        }).then((response) => {\r\n            if (response.ok) {\r\n                console.log('Login Successful');\r\n                response.json().then(data => {\r\n                    localStorage.setItem('token', data.token);\r\n                    setIsLoggedIn(true);\r\n                    navigate('/admin/main');\r\n                    toast.success('Login Successful', {\r\n                        position: \"top-center\",\r\n                        draggable: true,\r\n                        hideProgressBar: true\r\n                    });\r\n                })\r\n\r\n                // Schedule token removal after 1 hour\r\n                setTimeout(() => {\r\n                    localStorage.removeItem('token');\r\n                    setIsLoggedIn(false);\r\n                    navigate('/admin/login')\r\n                    toast.warn('Session Expired. Please login again.', {\r\n                        position: \"top-center\",\r\n                        draggable: true,\r\n                        hideProgressBar: true\r\n                    });\r\n                }, 60000 * 60);\r\n\r\n                setPassword('');\r\n            } else {\r\n                console.error('Login Failed');\r\n                toast.warn('Username or Password is incorrect', {\r\n                        position: \"top-center\",\r\n                        draggable: true,\r\n                        hideProgressBar: true\r\n                    }\r\n                );\r\n            }\r\n        })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    function handleLogOut() {\r\n        localStorage.removeItem('token');\r\n\r\n        setIsLoggedIn(false);\r\n        toast.success(\"Logout Successful\", {\r\n                position: \"top-center\",\r\n                draggable: true,\r\n                hideProgressBar: true\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-page\">\r\n            <form className=\"admin-login-form\">\r\n                <div className=\"\">\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleDropdownFormUsername\" className=\"form-label label-txt\">User Name</label>\r\n                        <input type=\"text\" className=\"form-control label-input\" id=\"exampleDropdownFormUsername\" placeholder=\"User Name\"\r\n                               value={username} onChange={(e) => setUsername(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <label htmlFor=\"exampleDropdownFormPassword2\" className=\"form-label label-txt\">Password</label>\r\n                        <input type=\"password\" className=\"form-control label-input\" id=\"exampleDropdownFormPassword2\" placeholder=\"Password\"\r\n                               value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"mb-3\">\r\n                        <div className=\"form-check\">\r\n                            <Link to=\"/find\" className=\"find-link\"><p className=\"find-txt\">Forgot your username or password?</p></Link>\r\n                        </div>\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSignIn}>Sign in</button>\r\n                    <Link to=\"/register\" className=\"register-link\"><button className=\"btn btn-primary\">Sign Up</button></Link>\r\n                </div>\r\n            </form>\r\n            <ToastContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminLoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}