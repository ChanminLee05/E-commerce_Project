{"ast":null,"code":"import React,{useEffect,useState}from'react';import Item from\"./Item\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ItemListPage=_ref=>{let{categoryId,initialItemCount,loadMoreIncrement}=_ref;const[items,setItems]=useState([]);const[itemToShow,setItemToShow]=useState(initialItemCount);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchItems=async()=>{try{const response=await fetch(\"http://localhost:8080/nexusHub/product/category/\".concat(categoryId));if(!response.ok){throw new Error(\"Failed to fetch items\");}const data=await response.json();console.log(data);setItems(data);setIsLoading(false);}catch(error){console.error('Error fetching items:',error);}};fetchItems();},[categoryId]);function handleLoadMoreClick(){setItemToShow(prev=>prev+loadMoreIncrement);const loadBtn=document.querySelector(\".loadbtn\");loadBtn.style.display=\"none\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"fashion-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"fashion-title\",children:\"New Arrivals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-list\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}):items.slice(0,itemToShow).map((item,index)=>/*#__PURE__*/_jsx(Item,{productId:item.productId,productName:item.productName,brand:item.brand,imageUrl:item.imageUrl,photos:item.photos,price:item.price,description:item.description},index))}),loadMoreIncrement>0&&/*#__PURE__*/_jsx(\"div\",{className:\"loadbtn-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"loadbtn btn btn-dark\",onClick:handleLoadMoreClick,children:\"Load More\"})})]});};export default ItemListPage;","map":{"version":3,"names":["React","useEffect","useState","Item","jsx","_jsx","jsxs","_jsxs","ItemListPage","_ref","categoryId","initialItemCount","loadMoreIncrement","items","setItems","itemToShow","setItemToShow","isLoading","setIsLoading","fetchItems","response","fetch","concat","ok","Error","data","json","console","log","error","handleLoadMoreClick","prev","loadBtn","document","querySelector","style","display","className","children","role","slice","map","item","index","productId","productName","brand","imageUrl","photos","price","description","type","onClick"],"sources":["C:/Users/Chanmin/chatbot_project/chatbot/frontend/src/Components/CategoryPages/ItemListPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Item from \"./Item\";\r\n\r\nconst ItemListPage = ({ categoryId, initialItemCount, loadMoreIncrement }) => {\r\n    const [items, setItems] = useState([]);\r\n    const [itemToShow, setItemToShow] = useState(initialItemCount);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchItems = async () => {\r\n            try {\r\n                const response = await fetch(`http://localhost:8080/nexusHub/product/category/${categoryId}`);\r\n                if (!response.ok) {\r\n                    throw new Error(\"Failed to fetch items\");\r\n                }\r\n                const data = await response.json();\r\n                console.log(data);\r\n                setItems(data);\r\n                setIsLoading(false);\r\n            } catch (error) {\r\n                console.error('Error fetching items:', error);\r\n            }\r\n        };\r\n\r\n        fetchItems();\r\n    }, [categoryId]);\r\n\r\n    function handleLoadMoreClick() {\r\n        setItemToShow(prev => prev + loadMoreIncrement);\r\n        const loadBtn = document.querySelector(\".loadbtn\");\r\n        loadBtn.style.display = \"none\";\r\n    }\r\n\r\n    return (\r\n        <div className=\"fashion-form\">\r\n            <h2 className=\"fashion-title\">New Arrivals</h2>\r\n            <div className=\"item-list\">\r\n                {isLoading ? (\r\n                    <div className=\"spinner-border\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                ) : (\r\n                    items.slice(0, itemToShow).map((item, index) => (\r\n                        <Item\r\n                            key={index}\r\n                            productId={item.productId}\r\n                            productName={item.productName}\r\n                            brand={item.brand}\r\n                            imageUrl={item.imageUrl}\r\n                            photos={item.photos}\r\n                            price={item.price}\r\n                            description={item.description}\r\n                        />\r\n                    ))\r\n                )}\r\n            </div>\r\n            {loadMoreIncrement > 0 && (\r\n                <div className=\"loadbtn-container\">\r\n                    <button type=\"button\" className=\"loadbtn btn btn-dark\" onClick={handleLoadMoreClick}>\r\n                        Load More\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ItemListPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}